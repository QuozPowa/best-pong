{"version":3,"sources":["../../src/client/AsteroidsClientEngine.js"],"names":["betaTiltThreshold","gammaTiltThreshold","steerThreshold","Keys","up","down","left","right","AsteroidsClientEngine","e","kc","keyCode","sendInput","gameEngine","options","AsteroidsRenderer","document","body","addEventListener","onKeyUp","bind","onKeyDown","ClientEngine"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,iBAAiB,GAAG,EAA1B;AACA,IAAMC,kBAAkB,GAAG,EAA3B;AACA,IAAMC,cAAc,GAAG,GAAvB;AACA,IAAIC,IAAI,GAAG;AACPC,EAAAA,EAAE,EAAE,KADG;AAEPC,EAAAA,IAAI,EAAE,KAFC;AAGPC,EAAAA,IAAI,EAAE,KAHC;AAIPC,EAAAA,KAAK,EAAE;AAJA,CAAX;;IAOqBC,qB;;;;;;;4BAKTC,C,EAAG;AAEP,UAAIC,EAAE,GAAGD,CAAC,CAACE,OAAX;AACA,UAAID,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACG,IAAL,GAAY,KAAZ,CAAf,CAAmC;AAAnC,WACK,IAAII,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACC,EAAL,GAAU,KAAV,CAAf,CAAmC;AAAnC,aACA,IAAIM,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACI,KAAL,GAAa,KAAb,CAAf,KACA,IAAIG,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACE,IAAL,GAAY,KAAZ;AACpB,WAAKO,SAAL,CAAe,YAAf,EAA6B;AAACT,QAAAA,IAAI,EAAJA;AAAD,OAA7B;AACH;;;8BAISM,C,EAAG;AACT,UAAIC,EAAE,GAAGD,CAAC,CAACE,OAAX;AACA,UAAID,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACG,IAAL,GAAY,IAAZ,CAAf,CAAkC;AAAlC,WACK,IAAII,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACC,EAAL,GAAU,IAAV,CAAf,CAAkC;AAAlC,aACA,IAAIM,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACI,KAAL,GAAa,IAAb,CAAf,KACA,IAAIG,EAAE,KAAK,EAAX,EAAeP,IAAI,CAACE,IAAL,GAAY,IAAZ;AACpB,WAAKO,SAAL,CAAe,YAAf,EAA6B;AAACT,QAAAA,IAAI,EAAJA;AAAD,OAA7B;AACH;;;AAED,iCAAYU,UAAZ,EAAwBC,OAAxB,EAAiC;AAAA;;AAAA;;AAI7B,+FAAMD,UAAN,EAAkBC,OAAlB,EAA2BC,6BAA3B;AAEAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwC,MAAKC,OAAL,CAAaC,IAAb,+BAAxC;AAEAJ,IAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,SAA/B,EAA0C,MAAKG,SAAL,CAAeD,IAAf,+BAA1C;AAR6B;AAYhC,G,CAED;;;;;8BACU,CACT;;;;EA1C8CE,qB","sourcesContent":["import { ClientEngine, KeyboardControls } from 'lance-gg';\nimport AsteroidsRenderer from '../client/AsteroidsRenderer';\n\nconst betaTiltThreshold = 40;\nconst gammaTiltThreshold = 40;\nconst steerThreshold = 0.4;\nvar Keys = {\n    up: false,\n    down: false,\n    left: false,\n    right: false\n};\n\nexport default class AsteroidsClientEngine extends ClientEngine {\n \n\n\n    \n    onKeyUp(e) {\n\n        var kc = e.keyCode;\n        if (kc === 37) Keys.left = false;  // only one key per event\n        else if (kc === 38) Keys.up = false;    // so check exclusively\n        else if (kc === 39) Keys.right = false;\n        else if (kc === 40) Keys.down = false;\n        this.sendInput(\"updateKeys\", {Keys});\n    }\n\n\n\n    onKeyDown(e) {\n        var kc = e.keyCode;\n        if (kc === 37) Keys.left = true;  // only one key per event\n        else if (kc === 38) Keys.up = true;    // so check exclusively\n        else if (kc === 39) Keys.right = true;\n        else if (kc === 40) Keys.down = true;\n        this.sendInput(\"updateKeys\", {Keys});\n    }\n\n    constructor(gameEngine, options) {\n\n\n     \n        super(gameEngine, options, AsteroidsRenderer);\n\n        document.body.addEventListener('keyup', this.onKeyUp.bind(this));\n\n        document.body.addEventListener('keydown', this.onKeyDown.bind(this));\n\n        \n        \n    }\n\n    // our pre-step is to process inputs that are \"currently pressed\" during the game step\n    preStep() {\n    }\n\n}\n\n"],"file":"AsteroidsClientEngine.js"}